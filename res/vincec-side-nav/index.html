<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<title>Side Nav Bar Demo</title>
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

	<!-- <link rel="stylesheet" href="./css/main.css"> -->
	<style>
		*{margin:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;font-family:"SimSun"}.hide{display:none}.fade{visibility:hidden}.first-li-a-actived{color:rgb(247,83,86)!important}.second-li-a-actived{color:#ffd30efa!important}.first-li-actived{background-color:#616161!important}.first-li-actived .first-li-div{border-left:3px solid rgb(247,83,86)!important}::-webkit-scrollbar{display:none}nav.side-nav{position:absolute;width:15rem;height:100%;padding-top:2rem;background-color:#383838;z-index:-10}nav a{text-decoration:none;font-family:"SimHei"}.side-nav ul{padding:0;height:100%;overflow:auto}li.first-li,.first-li-div{border:0}.first-li-div{position:relative;font-size:1.7rem;list-style:none;margin:0 auto;padding:1.2rem;padding-left:1.5rem}a.first-li-a{color:#D0D0D0}a.second-li-a{color:#fff;padding-left:1rem}li.first-li.side a.second-li-a{color:#383838}img.first-li-img{margin:auto;margin-right:.7rem}.first-li:hover{background-color:#737373}.first-li .first-li-div:hover{border-left:3px solid rgb(247,83,86)}.first-li:hover a.first-li-a{color:rgb(247,83,86)}.first-li.normal:hover ul{display:block}li.first-li.side ul{position:fixed;display:flex;flex-direction:column;width:20rem;color:#fff;border:0;background:none;padding-right:3rem}li.second-li{border:0;font-size:1.5rem;padding:1rem;list-style:none;padding-left:3rem;background-color:rgb(160,160,160);box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 7px 0 rgba(0,0,0,.19)}.first-li.side .second-li{margin-left:13px}li.second-li:hover a.second-li-a{color:#f1af6d}.arrow-div{content:'';position:absolute;left:0;margin:auto 0;border:7px solid transparent;border-right:7px solid rgb(160,160,160);z-index:10000000!important}.div-info{position:fixed;left:15rem;right:0;display:flex;justify-content:center;align-content:center;height:100%;z-index:-1000}.div-info a{position:relative;top:50%;font-size:3rem;margin-left:1rem;height:5rem;line-height:30.25px!important;background-color:#666;-webkit-background-clip:text;-moz-background-clip:text;background-clip:text;color:transparent;text-shadow:rgba(255,255,255,.5)0 3px 3px}.nav-first-li-name,.nav-second-li-name{font-style:italic}a#copyright{font-size:1.5rem!important;position:fixed!important;bottom:10px!important;width:100%;text-align:center}.first-li-img{width:16px}.second-li-img{width:10px}
	</style>
</head>

<body>
	<a id="copyright">Copyright @ Vince Cao</a>
	<div class="div-info">
		<a class="hide" id="inst">You are click</a>
		<a class="nav-second-li-name"></a>
		<a class="hide" id="arrow">of</a>
		<a class="nav-first-li-name"></a>
	</div>

	<nav class="side-nav">
		<!-- <ul>这里是 js 自动生成的代码样例，实际生成会更细节点
	  <li class="first-li">
	    <div>
	      <img class="first-li-img" src="./img/side/jcxxgl.png" alt="">
	      <a class="first-li-a">Archive</a>
	    </div>

	    <ul class="hide">
	      <li class="second-li">
	        <img class="second-li-img" src="./img/side/secondLi.svg" alt="">
	        <a class="second-li-a">Tags</a>
	      </li>
	      <li class="second-li">
	        <img class="second-li-img" src="./img/side/secondLi.svg" alt="">
	        <a class="second-li-a">Time</a>
	      </li>
	    </ul>
	  </li>
	  <li class="first-li">
	    <div>
	      <img class="first-li-img" src="./img/side/jygl.png" alt="">
	      <a class="first-li-a">About Me</a>
	    </div>
	  </li>
	</ul> -->
	</nav>

	<script type="text/javascript">
		var List={Category:[{innerhtml:"Archive",src:"./img/alien-ship.svg",class:"side",subCategory:[{innerhtml:"Tags",src:"./img/secondLi.svg"},{innerhtml:"Time",src:"./img/secondLi.svg"},{innerhtml:"Author",src:"./img/secondLi.svg"},{innerhtml:"Count",src:"./img/secondLi.svg"}]},{innerhtml:"About Me",src:"./img/big-dipper.svg",class:"normal"},{innerhtml:"Friends",src:"./img/half-moon.svg",class:"normal",subCategory:[{innerhtml:"Friends A",src:"./img/secondLi.svg"},{innerhtml:"Friends B",src:"./img/secondLi.svg"},{innerhtml:"Friends C",src:"./img/secondLi.svg"},{innerhtml:"Friends D",src:"./img/secondLi.svg"}]},{innerhtml:"Games",src:"./img/planet.svg",class:"normal",subCategory:[{innerhtml:"ACT",src:"./img/secondLi.svg"},{innerhtml:"FPS",src:"./img/secondLi.svg"},{innerhtml:"RAC",src:"./img/secondLi.svg"},{innerhtml:"ADV",src:"./img/secondLi.svg"}]},{innerhtml:"Moive",src:"./img/rocket.svg",class:"normal"},{innerhtml:"Music",src:"./img/saturn.svg",class:"normal",subCategory:[{innerhtml:"ELECTROIC",src:"./img/secondLi.svg"},{innerhtml:"POP",src:"./img/secondLi.svg"},{innerhtml:"JPOP",src:"./img/secondLi.svg"},{innerhtml:"CLASSIC",src:"./img/secondLi.svg"},{innerhtml:"DANCE",src:"./img/secondLi.svg"},{innerhtml:"ROCK",src:"./img/secondLi.svg"}]},{innerhtml:"Games",src:"./img/shooting-star.svg",class:"side",subCategory:[{innerhtml:"ACT",src:"./img/secondLi.svg"},{innerhtml:"FPS",src:"./img/secondLi.svg"},{innerhtml:"RAC",src:"./img/secondLi.svg"},{innerhtml:"ADV",src:"./img/secondLi.svg"}]},{innerhtml:"Computer",src:"./img/space-ship.svg",class:"side",subCategory:[{innerhtml:"HP",src:"./img/secondLi.svg"},{innerhtml:"DELL",src:"./img/secondLi.svg"}]},{innerhtml:"Phone",src:"./img/alien-ship.svg",class:"side",subCategory:[{innerhtml:"Sony",src:"./img/secondLi.svg"},{innerhtml:"Apple",src:"./img/secondLi.svg"},{innerhtml:"Huawei",src:"./img/secondLi.svg"},{innerhtml:"Samsung",src:"./img/secondLi.svg"}]}]};function liDown(findex,sindex){let $fli=$("li#"+findex+".first-li");if(liActive($fli,"first"),$fli.find("ul")&&($fli.hasClass("normal")?$fli.find("ul").removeClass("hide"):$fli.hasClass("side")&&$fli.find("ul").removeClass("fade"),sindex>=0)){let $sli;liActive($fli.find("li#"+sindex+".second-li"),"second")}}function liActive($this,index){let LI=$this,LIA=LI.find("."+index+"-li-a"),LIIMG=LI.find("."+index+"-li-img");if(!LI.hasClass(index+"-li-actived")){"first"==index&&clearHover(1),clearHover(2),LIIMG.addClass(index+"-li-img-actived"),LIA.addClass(index+"-li-a-actived"),LI.addClass(index+"-li-actived");try{liImageHover(LIIMG,!0,index)}catch(e){}showInfo()}}function showInfo(){let first_li_id=$(".first-li-actived").index(".first-li");console.log("first li:"+first_li_id);let second_li_id=$(".first-li-actived .second-li-actived").index(".first-li-actived .second-li");console.log("second li:"+second_li_id),$("iframe").remove(),$("form.layui-form").addClass("none");let category=List.Category;if($(".nav-first-li-name").html(category[first_li_id].innerhtml),$(".nav-second-li-name").html(""),$("#arrow").addClass("hide"),-1!=second_li_id){let subcategory=category[first_li_id].subCategory;$(".nav-second-li-name").html(subcategory[second_li_id].innerhtml),$("#arrow").removeClass("hide")}}function liImageHover(LIIMG,isHover,ID){var format="svg";if(isHover){let imageSrc=LIIMG.attr("src").slice(0,-4);LIIMG.attr("src",imageSrc+"-actived.svg"),LIIMG.addClass(ID+"-li-img-actived")}else{let imageSrc=LIIMG.attr("src").slice(0,-12);LIIMG.attr("src",imageSrc+".svg"),LIIMG.removeClass(ID+"-li-img-actived")}}function clearHover(n){if(1==n)try{const FLI_ACT=$(document).find("li.first-li.first-li-actived"),FLI_ACT_A=FLI_ACT.find(".first-li-a-actived"),FLI_ACT_IMG=FLI_ACT.find(".first-li-img-actived");FLI_ACT.hasClass("normal")?FLI_ACT.find("ul").addClass("hide"):FLI_ACT.hasClass("side")&&FLI_ACT.find("ul").addClass("fade"),FLI_ACT_A.removeClass("first-li-a-actived"),FLI_ACT.removeClass("first-li-actived"),liImageHover(FLI_ACT_IMG,!1,"first")}catch(e){}else if(2==n)try{let SLI_ACT=$(document).find("li.second-li.second-li-actived"),SLI_ACT_A=SLI_ACT.find(".second-li-a-actived"),SLI_ACT_IMG=SLI_ACT.find(".second-li-img-actived");SLI_ACT_A.removeClass("second-li-a-actived"),SLI_ACT.removeClass("second-li-actived"),liImageHover(SLI_ACT_IMG,!1,"second")}catch(e){}}function menuGenerater(Category){const SIDE_NAV=$(".side-nav");let $ul=$("<ul></ul>");$ul.appendTo(SIDE_NAV);for(var i=0;i<Category.length;i++){let json=Category[i];$('<li class="first-li '+json.class+'" id='+i+"></li>").appendTo($ul);var $li=$("li#"+i+".first-li");$('<div class="first-li-div"></div>').appendTo($li);var $div=$("li#"+i+".first-li div");$div.addClass("first-li-div");let $img=$('<img class="first-li-img">');$img.attr("src",json.src),$img.appendTo($div);let $a=$('<a class="first-li-a"></a>');$a.html(json.innerhtml),$a.appendTo($div);let $subul=null;$li.hasClass("normal")?$subul=$('<ul class="hide"></ul>').appendTo($li):$li.hasClass("side")&&($subul=$('<ul class="fade"></ul>').appendTo($li),$('<div class="arrow-div"></div>').appendTo($subul));try{for(var j=0;j<json.subCategory.length;j++){let subjson=json.subCategory[j];$('<li class="second-li effect7" id='+j+"></li>").appendTo($subul);var $subli=$li.find($("li#"+j+".second-li"));let $img=$('<img class="second-li-img">');$img.attr("src",subjson.src),$img.appendTo($subli);let $a=$('<a class="second-li-a"></a>');$a.html(subjson.innerhtml),$a.appendTo($subli)}}catch(e){}}}$(document).ready(function(){console.log("嘿嘿，小彩蛋"),menuGenerater(List.Category)}).on("mousedown",".first-li div",function(){let findex;$("#inst").removeClass("hide"),liDown($(this).parent().index(".first-li"),0)}).on("mousedown",".second-li",function(){$("#inst").removeClass("hide"),console.log($(this));let findex=$(this).parent().parent().index(".first-li");console.log("findex",findex);let sindex=$(this).index(".first-li-actived .second-li");console.log("sindex",sindex),liDown(findex,sindex)}).on("mouseenter",".first-li.side",function(){var $this=$(this),offset=$this.offset(),$ul=$this.find("ul"),screenHeight=$(window).height(),subCategoryHeight=$ul.find(".second-li").outerHeight(!0)*$ul.find(".second-li").length;$ul.height(subCategoryHeight);let $arrow=$this.find(".arrow-div");if(offset.top+subCategoryHeight>=screenHeight){var sub_top=$(window).innerHeight()-subCategoryHeight;$ul.css({left:offset.left+$this.outerWidth(!0)+"px",top:sub_top+"px"}),$arrow.css("top",offset.top-sub_top+"px")}else $ul.css({left:offset.left+$this.outerWidth(!0)+"px",top:offset.top+"px"}),$arrow.css("top",0);$ul.removeClass("fade"),$ul.css("z-index","100")}).on("mouseleave",".first-li.side",function(){$(this).hasClass("first-li-actived")||$(this).find("ul").addClass("fade"),$(this).find("ul").css("z-index","0")});
	</script>

</body>


</html>